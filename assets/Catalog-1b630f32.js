import{r as y,b as h,o as s,d,w as f,e as w,f as o,u,i as k,t as v,g as C,h as b,j as r,k as x,c as g,F as B,l as P,m as S}from"./index-254ceb3b.js";const D={alt:"",class:"main__catalog-list-item-img"},F={class:"main__catalog-list-item-title"},$={__name:"CatalogItem",props:{item:Object,type:String},setup(t){return(e,a)=>{const i=y("router-link"),l=h("lazy");return s(),d(i,{to:t.type+"/"+t.item.id,class:"main__catalog-list-item"},{default:f(()=>[w(o("img",D,null,512),[[l,u(k)+t.item.backdrop_path]]),o("h2",F,v(t.item.title||t.item.name),1)]),_:1},8,["to"])}}},j={key:0,class:"main__catalog"},z={class:"container"},H={class:"main__catalog-title"},M={class:"main__catalog-list"},E={__name:"Catalog",props:{type:String},setup(t){const e=t,a=C(),i=b(()=>e.type=="movie"?"Все фильмы":e.type=="tv"?"Все сериалы":"");let l=r(1),n=r([]),c=r(!1);a.getPopular({type:e.type,page:l.value});const m=async()=>{if(!c.value){c.value=!0,await a.getPopular({type:e.type,page:l.value});const _=e.type=="movie"?a.popularMovies:e.type=="tv"?a.popularTvs:"";n.value.push(..._),c.value=!1,l.value++}};return x(()=>{window.onscroll=()=>{window.scrollY+window.innerHeight>=document.body.scrollHeight&&m()},m()}),(_,N)=>u(n)?(s(),g("div",j,[o("div",z,[o("h2",H,v(i.value),1),o("div",M,[(s(!0),g(B,null,P(u(n),p=>(s(),d($,{key:p.id,item:p,type:t.type},null,8,["item","type"]))),128))])])])):S("",!0)}};export{E as _};
